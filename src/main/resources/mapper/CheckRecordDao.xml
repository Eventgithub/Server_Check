<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cxyz.check.dao.CheckRecordDao">
    <select id="getRecordByStuId" resultType="CheckRecord" >
      select
      _id,
      completion_id 'comp.id',
      des,
      result
      from tb_record r
      where r.stu_id = #{id}
      order by _id desc
      limit #{start},#{len}
    </select>
    <insert id="addRecords" >
        insert into tb_record(completion_id,stu_id,des,result)
        values
        <foreach collection="records" item="item" index="index" separator="," >
        (
           #{item.comp.id},#{item.stu.id},#{item.des},#{item.result}
        )
        </foreach>
    </insert>
</mapper>